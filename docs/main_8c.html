<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NRF24L+ STM8 Compatible Library: src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NRF24L+ STM8 Compatible Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the main function for: retarget the C library printf scanf functions to the UART1 example.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stm8s.h&quot;</code><br />
<code>#include &quot;<a class="el" href="stm8s__it_8h_source.html">stm8s_it.h</a>&quot;</code><br />
<code>#include &quot;stdio.h&quot;</code><br />
<code>#include &quot;<a class="el" href="delay_8h_source.html">delay.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mirf_8h_source.html">mirf.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#asrc_2main_8c" alt=""/></div>
<map name="asrc_2main_8c" id="asrc_2main_8c">
<area shape="rect" title="This file contains the main function for: retarget the C library printf scanf functions to the UART1 ..." alt="" coords="126,5,215,32"/>
<area shape="rect" title=" " alt="" coords="31,155,105,181"/>
<area shape="rect" href="stm8s__it_8h.html" title="This file contains the headers of the interrupt handlers." alt="" coords="23,80,113,107"/>
<area shape="rect" title=" " alt="" coords="137,80,204,107"/>
<area shape="rect" href="delay_8h.html" title="Header for delay." alt="" coords="313,80,381,107"/>
<area shape="rect" href="mirf_8h.html" title="This file contains the NRF24 library headers." alt="" coords="229,80,289,107"/>
<area shape="rect" title=" " alt="" coords="311,155,382,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac040eb6679fed6e591776425aa7abd9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac040eb6679fed6e591776425aa7abd9d">PUTCHAR_PROTOTYPE</a>&#160;&#160;&#160;void putchar(char c)</td></tr>
<tr class="separator:ac040eb6679fed6e591776425aa7abd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d0a08c52bcd86ca145366a5d9cc90a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a89d0a08c52bcd86ca145366a5d9cc90a">GETCHAR_PROTOTYPE</a>&#160;&#160;&#160;char getchar(void)</td></tr>
<tr class="separator:a89d0a08c52bcd86ca145366a5d9cc90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adf492910b4e33f44cbc3b0301308292d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#adf492910b4e33f44cbc3b0301308292d">secondary</a> ()</td></tr>
<tr class="separator:adf492910b4e33f44cbc3b0301308292d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">main</a> (void)</td></tr>
<tr class="memdesc:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program.  <a href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">More...</a><br /></td></tr>
<tr class="separator:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a35d22412c34eb149d8973b4120261873"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a35d22412c34eb149d8973b4120261873">bIntFlag</a></td></tr>
<tr class="separator:a35d22412c34eb149d8973b4120261873"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the main function for: retarget the C library printf scanf functions to the UART1 example. </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team, Nicolas Gutierrez </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>9-December-2023</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; COPYRIGHT 2014 STMicroelectronics</center></h2>
<p>Licensed under MCD-ST Liberty SW License Agreement V2, (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at: </p><pre class="fragment">   http://www.st.com/software_license_agreement_liberty_v2
</pre><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a89d0a08c52bcd86ca145366a5d9cc90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d0a08c52bcd86ca145366a5d9cc90a">&#9670;&nbsp;</a></span>GETCHAR_PROTOTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GETCHAR_PROTOTYPE&#160;&#160;&#160;char getchar(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac040eb6679fed6e591776425aa7abd9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac040eb6679fed6e591776425aa7abd9d">&#9670;&nbsp;</a></span>PUTCHAR_PROTOTYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PUTCHAR_PROTOTYPE&#160;&#160;&#160;void putchar(char c)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6288eba0f8e8ad3ab1544ad731eb7667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6288eba0f8e8ad3ab1544ad731eb7667">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph.png" border="0" usemap="#amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph" alt=""/></div>
<map name="amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph" id="amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph">
<area shape="rect" title="Main program." alt="" coords="5,360,60,387"/>
<area shape="rect" href="main_8c.html#adf492910b4e33f44cbc3b0301308292d" title=" " alt="" coords="108,360,197,387"/>
<area shape="rect" href="delay_8c.html#ab7cce8122024d7ba47bf10f434956de4" title="Generates a delay in ms." alt="" coords="483,259,568,285"/>
<area shape="rect" href="mirf_8c.html#a4f5466685b94668e838714f0938b52ee" title="This sends the necessary registers to the NRF. Initially on RX mode." alt="" coords="261,132,365,159"/>
<area shape="rect" href="mirf_8c.html#a65d80ff553d151811dde0636cdd17f0f" title="Checks if data is available for reading." alt="" coords="245,537,380,564"/>
<area shape="rect" href="mirf_8c.html#a10082b1d20ffb577020449c65e523796" title="Reads NRF payload bytes into data array." alt="" coords="467,5,584,32"/>
<area shape="rect" href="mirf_8c.html#a9ed171af704468994136122b94aeb3ba" title="This function initializes the CE/CS Pins and SPI." alt="" coords="269,689,356,716"/>
<area shape="rect" href="mirf_8c.html#a958dfb81dd996b6d339b0f3441fd8531" title="Test if Sending has finished or retry is over." alt="" coords="259,309,367,336"/>
<area shape="rect" href="mirf_8c.html#aa30f7d76954ad77dafd2825c4cd60c3f" title="Sends a data package to the default address. Be sure to send the correct amount of bytes as configure..." alt="" coords="265,487,361,513"/>
<area shape="rect" href="mirf_8c.html#acc49f1dc3c4b4482277b33b120c97b26" title="Sets the recieving address (5) bytes!" alt="" coords="459,715,591,741"/>
<area shape="rect" href="mirf_8c.html#a9e1672761009b07f02ff26ad1214bb37" title="Set Auto Retransmit Delay." alt="" coords="428,309,623,336"/>
<area shape="rect" href="mirf_8c.html#ad79ccd9a834c841c6e3794e4624a186a" title="Select between the high speed data rates." alt="" coords="428,208,623,235"/>
<area shape="rect" href="mirf_8c.html#a8f3e77a2dcf7c8a359b9be8c667acfde" title="Sets the transmitting device address." alt="" coords="460,765,591,792"/>
<area shape="rect" href="mirf_8c.html#a020267ad969887a3ff869329e46edcf2" title="Clocks only one byte into the given MiRF register." alt="" coords="671,360,829,387"/>
<area shape="rect" href="mirf_8c.html#af44f79110171d0520d01a4bcf2fd0668" title="Flushes RX FIFO." alt="" coords="693,259,807,285"/>
<area shape="rect" href="mirf_8c.html#a1a86587383aed4ca5f4bf773341a204b" title="Starts up the NRF to be RX, the default." alt="" coords="455,157,595,184"/>
<area shape="rect" href="mirf_8c.html#a8c41aa390e2044b74993705851507b62" title="Set CSN High." alt="" coords="894,512,978,539"/>
<area shape="rect" href="mirf_8c.html#a01c4c7130d706212195ba270aa2c44bf" title="Set CSN Low." alt="" coords="888,373,984,400"/>
<area shape="rect" href="mirf_8c.html#aa5a4421f9dfeae78a3e66cf75985bf14" title="An SPI &quot;transfer&quot;, used in this library to simply send an address or command to the NRF." alt="" coords="887,436,985,463"/>
<area shape="rect" href="mirf_8c.html#a022e9f774dda10550da5135df0800dea" title="Set CE High." alt="" coords="703,411,797,437"/>
<area shape="rect" href="mirf_8c.html#acac0907a8579a06c7dfe65fde12ae96c" title="Set CE Low." alt="" coords="697,461,803,488"/>
<area shape="rect" href="mirf_8c.html#a8baf2610b5e4b1bb7c229fab061a06ce" title="Get the status of the NRF." alt="" coords="462,563,589,589"/>
<area shape="rect" href="mirf_8c.html#ad945b3a81b124a6a3ef283975821c1b6" title="Reads an array of bytes from the given start position in the MiRF registers." alt="" coords="676,563,824,589"/>
<area shape="rect" href="mirf_8c.html#a069171ad424cd0a0b91ed0043d36b5e8" title="Reads data from MISO." alt="" coords="879,215,993,241"/>
<area shape="rect" href="mirf_8c.html#a09bdf1c956be716a9de18b3d28468fa4" title="Sets the NRF to TX mode." alt="" coords="456,360,595,387"/>
<area shape="rect" href="mirf_8c.html#a39a4c4319000b7418b3d32aa2e9d9494" title="This function writes data to MOSI. It checks if it is being used." alt="" coords="877,765,995,792"/>
<area shape="rect" href="mirf_8c.html#a93449fb4395f800456a7711f8fe99c68" title="Writes an array of bytes into inte the MiRF registers." alt="" coords="674,715,826,741"/>
</map>
</div>

</div>
</div>
<a id="adf492910b4e33f44cbc3b0301308292d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf492910b4e33f44cbc3b0301308292d">&#9670;&nbsp;</a></span>secondary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void secondary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c_adf492910b4e33f44cbc3b0301308292d_cgraph.png" border="0" usemap="#amain_8c_adf492910b4e33f44cbc3b0301308292d_cgraph" alt=""/></div>
<map name="amain_8c_adf492910b4e33f44cbc3b0301308292d_cgraph" id="amain_8c_adf492910b4e33f44cbc3b0301308292d_cgraph">
<area shape="rect" title=" " alt="" coords="5,360,95,387"/>
<area shape="rect" href="delay_8c.html#ab7cce8122024d7ba47bf10f434956de4" title="Generates a delay in ms." alt="" coords="380,259,465,285"/>
<area shape="rect" href="mirf_8c.html#a4f5466685b94668e838714f0938b52ee" title="This sends the necessary registers to the NRF. Initially on RX mode." alt="" coords="158,132,262,159"/>
<area shape="rect" href="mirf_8c.html#a65d80ff553d151811dde0636cdd17f0f" title="Checks if data is available for reading." alt="" coords="143,537,277,564"/>
<area shape="rect" href="mirf_8c.html#a10082b1d20ffb577020449c65e523796" title="Reads NRF payload bytes into data array." alt="" coords="364,5,481,32"/>
<area shape="rect" href="mirf_8c.html#a9ed171af704468994136122b94aeb3ba" title="This function initializes the CE/CS Pins and SPI." alt="" coords="167,689,253,716"/>
<area shape="rect" href="mirf_8c.html#a958dfb81dd996b6d339b0f3441fd8531" title="Test if Sending has finished or retry is over." alt="" coords="156,309,264,336"/>
<area shape="rect" href="mirf_8c.html#aa30f7d76954ad77dafd2825c4cd60c3f" title="Sends a data package to the default address. Be sure to send the correct amount of bytes as configure..." alt="" coords="162,487,258,513"/>
<area shape="rect" href="mirf_8c.html#acc49f1dc3c4b4482277b33b120c97b26" title="Sets the recieving address (5) bytes!" alt="" coords="357,715,489,741"/>
<area shape="rect" href="mirf_8c.html#a9e1672761009b07f02ff26ad1214bb37" title="Set Auto Retransmit Delay." alt="" coords="325,309,520,336"/>
<area shape="rect" href="mirf_8c.html#ad79ccd9a834c841c6e3794e4624a186a" title="Select between the high speed data rates." alt="" coords="325,208,520,235"/>
<area shape="rect" href="mirf_8c.html#a8f3e77a2dcf7c8a359b9be8c667acfde" title="Sets the transmitting device address." alt="" coords="357,765,488,792"/>
<area shape="rect" href="mirf_8c.html#a020267ad969887a3ff869329e46edcf2" title="Clocks only one byte into the given MiRF register." alt="" coords="568,360,727,387"/>
<area shape="rect" href="mirf_8c.html#af44f79110171d0520d01a4bcf2fd0668" title="Flushes RX FIFO." alt="" coords="591,259,704,285"/>
<area shape="rect" href="mirf_8c.html#a1a86587383aed4ca5f4bf773341a204b" title="Starts up the NRF to be RX, the default." alt="" coords="353,157,493,184"/>
<area shape="rect" href="mirf_8c.html#a8c41aa390e2044b74993705851507b62" title="Set CSN High." alt="" coords="791,512,875,539"/>
<area shape="rect" href="mirf_8c.html#a01c4c7130d706212195ba270aa2c44bf" title="Set CSN Low." alt="" coords="785,373,881,400"/>
<area shape="rect" href="mirf_8c.html#aa5a4421f9dfeae78a3e66cf75985bf14" title="An SPI &quot;transfer&quot;, used in this library to simply send an address or command to the NRF." alt="" coords="784,436,883,463"/>
<area shape="rect" href="mirf_8c.html#a022e9f774dda10550da5135df0800dea" title="Set CE High." alt="" coords="600,411,695,437"/>
<area shape="rect" href="mirf_8c.html#acac0907a8579a06c7dfe65fde12ae96c" title="Set CE Low." alt="" coords="594,461,701,488"/>
<area shape="rect" href="mirf_8c.html#a8baf2610b5e4b1bb7c229fab061a06ce" title="Get the status of the NRF." alt="" coords="359,563,486,589"/>
<area shape="rect" href="mirf_8c.html#ad945b3a81b124a6a3ef283975821c1b6" title="Reads an array of bytes from the given start position in the MiRF registers." alt="" coords="573,563,721,589"/>
<area shape="rect" href="mirf_8c.html#a069171ad424cd0a0b91ed0043d36b5e8" title="Reads data from MISO." alt="" coords="777,215,890,241"/>
<area shape="rect" href="mirf_8c.html#a09bdf1c956be716a9de18b3d28468fa4" title="Sets the NRF to TX mode." alt="" coords="353,360,492,387"/>
<area shape="rect" href="mirf_8c.html#a39a4c4319000b7418b3d32aa2e9d9494" title="This function writes data to MOSI. It checks if it is being used." alt="" coords="775,765,892,792"/>
<area shape="rect" href="mirf_8c.html#a93449fb4395f800456a7711f8fe99c68" title="Writes an array of bytes into inte the MiRF registers." alt="" coords="571,715,723,741"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c_adf492910b4e33f44cbc3b0301308292d_icgraph.png" border="0" usemap="#amain_8c_adf492910b4e33f44cbc3b0301308292d_icgraph" alt=""/></div>
<map name="amain_8c_adf492910b4e33f44cbc3b0301308292d_icgraph" id="amain_8c_adf492910b4e33f44cbc3b0301308292d_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,197,32"/>
<area shape="rect" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Main program." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a35d22412c34eb149d8973b4120261873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d22412c34eb149d8973b4120261873">&#9670;&nbsp;</a></span>bIntFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int bIntFlag</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
